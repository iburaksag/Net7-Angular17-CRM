<div class="container-fluid d-flex align-items-center justify-content-center">
    <div class="row mt-3">
        <div class="mt-3">
            <div class="col-md-8 mx-auto">
                <ix-content-header
                (backButtonClick)="backButtonClick()" 
                hasBackButton="true"
                headerTitle="EDIT CUSTOMER"
                headerSubtitle="Update Form"
                >
                </ix-content-header>    
            </div>
        </div>

        <form
        #form="ngForm"
        class="g-3 needs-validation"
        no-validate
        autocomplete="off"
        >
        <div class="row mt-1">
            <div class="col-md-8 mx-auto">
            <label for="customerId" class="form-label">
                Customer ID
            </label>
            <input
                name="customerId"
                type="text"
                id="customerId"
                [(ngModel)]="customerId"
                disabled
            />
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto">
            <label for="firstName" class="form-label">
                First Name
            </label>
            <input
                name="firstName"
                type="text"
                id="firstName"
                [(ngModel)]="customerObj.firstName"
                #FirstName="ngModel"
                required
            />
            <div *ngIf="form.submitted && FirstName.invalid" class="text-danger mt-2">
                First name is required.
            </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto">
            <label for="lastName" class="form-label">
                Last Name
            </label>
            <input
                name="lastName"
                type="text"
                id="lastName"
                [(ngModel)]="customerObj.lastName"
                #LastName="ngModel"
                required
            />
            <div *ngIf="form.submitted && LastName.invalid" class="text-danger mt-2">
                Last name is required.
            </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto ">
                <label htmlFor="email" class="form-label">
                    Email
                </label>
                <input
                    name="email"
                    type="email"
                    id="email"
                    [(ngModel)]="customerObj.email"
                    #Email="ngModel"
                    required
                />
                <div *ngIf="form.submitted && Email.invalid" class="text-danger mt-2">
                    Email is required.
                </div>             
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto ">
                <label htmlFor="phone" class="form-label">
                    Phone
                </label>
                <input
                    name="phone"
                    type="phone"
                    id="phone"
                    [(ngModel)]="customerObj.phone"
                    #Phone="ngModel"                    
                />
            </div>
            <div *ngIf="form.submitted && Phone.invalid" class="text-danger mt-2">
                Phone is required.
            </div>                 
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto d-flex justify-content-between">
                <div class="mr-2">
                    <label htmlFor="city" class="form-label">
                        City
                    </label>
                    <input
                        name="city"
                        type="city"
                        id="city"
                        [(ngModel)]="customerObj.city"
                        #City="ngModel"                    
                    />
                    <div *ngIf="form.submitted && City.invalid" class="text-danger mt-2">
                        City is required.
                    </div>
                </div>

                <div class="ml-2">
                    <label htmlFor="country" class="form-label">
                        Country
                    </label>
                    <input
                        name="country"
                        type="country"
                        id="country"
                        [(ngModel)]="customerObj.country"
                        #Country="ngModel"                    
                    />
                    <div *ngIf="form.submitted && Country.invalid" class="text-danger mt-2">
                        Country is required.
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-8 mx-auto ">
                <label htmlFor="address" class="form-label">
                    Address
                </label>
                <textarea
                    name="address"
                    type="address"
                    id="address"
                    [(ngModel)]="customerObj.address"
                    #Address="ngModel"                    
                >
                </textarea>
            </div>
            <div *ngIf="form.submitted && Address.invalid" class="text-danger mt-2">
                Address is required.
            </div>                 
        </div>

        <div class="row mt-4">
            <ix-button 
            type="button" 
            (click)="onDeleteClick()"
            class="m-1 col-md-3 d-flex mx-auto" 
            variant="secondary" 
            icon="clear">
                Delete
            </ix-button>

            <ix-button 
            type="button" 
            (click)="onUpdateClick(form)"
            class="m-1 col-md-3 d-flex mx-auto justify-content-end" 
            variant="primary" 
            icon="user-check-filled">
                Update
            </ix-button>
        </div>
        </form>
    </div>
</div>

<ng-template #customModal let-modal>
      <div>
        <ix-modal-header> Mesaj </ix-modal-header>
        <ix-modal-content>
            <ul>
            <li *ngFor="let errorMessage of modal.data">
                {{ errorMessage }}
            </li>
            </ul>
        </ix-modal-content>
        <ix-modal-footer>
          <ix-button class="close-modal" (click)="modal.close('okay')">
            OK
          </ix-button>
        </ix-modal-footer>
      </div>
</ng-template>